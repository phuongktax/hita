O:8:"stdClass":9:{s:5:"title";s:79:"Giới thiệu kỹ thuật Long-Polling, Websockets, Server-Sent Events, Comet";s:4:"link";s:92:"http://techtalk.vn/gioi-thieu-ky-thuat-long-polling-websockets-server-sent-events-comet.html";s:11:"description";s:595:"<div>Hi&#7879;n nay &#7913;ng d&#7909;ng web &#273;&atilde; ph&aacute;t tri&#7875;n kh&aacute;c xa so v&#7899;i ng&agrave;y &#273;&#7847;u n&oacute; xu&#7845;t hi&#7879;n, k&egrave;m theo &#273;&oacute; l&agrave; v&ocirc; s&#7889; c&aacute;c k&#7929; thu&#7853;t m&#7899;i &#273;&#432;&#7907;c &aacute;p d&#7909;ng &#273;&#7875; ph&#7909;c v&#7909; cho qu&aacute; tr&igrave;nh n&agrave;y nh&#7857;m &#273;em l&#7841;i tr&#7843;i nghi&#7879;m m&#7899;i m&#7867;, &#273;&#7847;y h&#7913;ng th&uacute; v&agrave; c&#361;ng kh&ocirc;ng k&eacute;m ph&#7847;n ti&#7879;n d&#7909;ng cho [&hellip;]</div>";s:7:"content";s:14374:"<div><p>Hi&#7879;n nay &#7913;ng d&#7909;ng web &#273;&atilde; ph&aacute;t tri&#7875;n kh&aacute;c xa so v&#7899;i ng&agrave;y &#273;&#7847;u n&oacute; xu&#7845;t hi&#7879;n, k&egrave;m theo &#273;&oacute; l&agrave; v&ocirc; s&#7889; c&aacute;c k&#7929; thu&#7853;t m&#7899;i &#273;&#432;&#7907;c &aacute;p d&#7909;ng &#273;&#7875; ph&#7909;c v&#7909; cho qu&aacute; tr&igrave;nh n&agrave;y nh&#7857;m &#273;em l&#7841;i tr&#7843;i nghi&#7879;m m&#7899;i m&#7867;, &#273;&#7847;y h&#7913;ng th&uacute; v&agrave; c&#361;ng kh&ocirc;ng k&eacute;m ph&#7847;n ti&#7879;n d&#7909;ng cho ng&#432;&#7901;i d&ugrave;ng.</p>
<p>&#272;&#7875; c&aacute;c b&#7841;n c&oacute; 1 c&aacute;i nh&igrave;n r&otilde; r&agrave;ng h&#417;n v&#7873; c&ocirc;ng ngh&#7879; web hi&#7879;n &#273;&#7841;i, h&ocirc;m nay m&igrave;nh s&#7869; gi&#7899;i thi&#7879;u v&#7899;i c&aacute;c b&#7841;n 1 s&#7889; k&#7929; thu&#7853;t hi&#7879;n nay th&#432;&#7901;ng &#273;&#432;&#7907;c s&#7917; d&#7909;ng trong c&aacute;c &#7913;ng d&#7909;ng web th&#7901;i gian th&#7921;c.</p>
<p>(<em>Trong c&aacute;c v&iacute; d&#7909; b&ecirc;n d&#432;&#7899;i, m&aacute;y kh&aacute;ch (client) s&#7869; l&agrave; tr&igrave;nh duy&#7879;t c&#7911;a ng&#432;&#7901;i d&ugrave;ng, server s&#7869; l&agrave; webserver hosting c&#7911;a website , b&ecirc;n tr&aacute;i l&agrave; client v&agrave; b&ecirc;n ph&#7843;i l&agrave; server</em>). Tuy nhi&ecirc;n tr&#432;&#7899;c ti&ecirc;n m&igrave;nh s&#7869; gi&#7899;i thi&#7879;u m&ocirc; h&igrave;nh truy c&#7853;p theo giao th&#7913;c http truy&#7873;n th&#7889;ng.</p>
<h2>Regular HTTP:</h2>
<ol><li>Ng&#432;&#7901;i d&ugrave;ng g&#7917;i y&ecirc;u c&#7847;u (request) 1 website t&#7915; m&#7897;t m&aacute;y ch&#7911;.</li>
<li>M&aacute;y ch&#7911; (server) t&iacute;nh to&aacute;n d&#7919; li&#7879;u tr&#7843; v&#7873; ( response ).</li>
<li>M&aacute;y ch&#7911; g&#7917;i d&#7919; li&#7879;u tr&#7843; v&#7873; (response) cho ng&#432;&#7901;i d&ugrave;ng (client).</li>
</ol><p>~&gt; Client ch&#7911; &#273;&#7897;ng g&#7917;i request &#273;&#7871;n server th&igrave; s&#7869; c&oacute; response tr&#7843; v&#7873; cho client, c&ograve;n n&#7871;u ko c&oacute; request t&#7915; client th&igrave; server s&#7869; kh&ocirc;ng l&agrave;m g&igrave; c&#7843;.</p>
<h2>AJAX Polling:</h2>
<p><img class="aligncenter size-full wp-image-11340" src="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-polling.png" alt="ky-thuat-lap-trinh-web-regular-http-13122015-polling" width="646" height="364" srcset="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-polling.png 646w, http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-polling-300x169.png 300w" sizes="(max-width: 646px) 100vw, 646px"></p>
<ol><li>Client y&ecirc;u c&#7847;u 1 trang web t&#7915; server s&#7917; d&#7909;ng &ldquo;Regular http&rdquo; (&#273;&atilde; n&oacute;i &#7903; tr&ecirc;n).</li>
<li>Trang web m&agrave; client v&#7915;a y&ecirc;u c&#7847;u s&#7869; d&ugrave;ng javascript th&#7921;c hi&#7879;n request li&ecirc;n t&#7909;c &#273;&#7871;n 1 file tr&ecirc;n server trong m&#7897;t kho&#7843;ng th&#7901;i gian &#273;&#7873;u &#273;&#7863;n (v&iacute; d&#7909;: c&#7913; m&#7895;i 2 gi&acirc;y s&#7869; g&#7917;i 1 request &#273;&#7871;n server).</li>
<li>Server s&#7869; t&iacute;nh to&aacute;n response &#7913;ng v&#7899;i m&#7895;i request v&agrave; g&#7917;i l&#7841;i response cho client gi&#7889;ng nh&#432; giao th&#7913;c http truy&#7873;n th&#7889;ng.</li>
</ol><p>~&gt; Client kh&ocirc;ng ch&#7911; &#273;&#7897;ng g&#7917;i request &#273;&#7871;n server nh&#432;ng javascript c&#7911;a website v&#7851;n lu&acirc;n phi&ecirc;n g&#7917;i request &#273;&#7871;n server v&agrave; client s&#7869; nh&#7853;n response t&#7915; server 1 c&aacute;ch b&#7883; &#273;&#7897;ng.</p>
<h2>AJAX Long-Polling:</h2>
<p><img class="aligncenter size-full wp-image-11341" src="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-long-polling.png" alt="ky-thuat-lap-trinh-web-regular-http-13122015-long-polling" width="646" height="364" srcset="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-long-polling.png 646w, http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-long-polling-300x169.png 300w" sizes="(max-width: 646px) 100vw, 646px"></p>
<ol><li>Client y&ecirc;u c&#7847;u 1 trang web t&#7915; server s&#7917; d&#7909;ng &ldquo;Regular http&rdquo; (&#273;&atilde; n&oacute;i &#7903; tr&ecirc;n).</li>
<li>Trang web m&agrave; client v&#7915;a y&ecirc;u c&#7847;u s&#7869; d&ugrave;ng javascript th&#7921;c hi&#7879;n request &#273;&#7871;n 1 file tr&ecirc;n server.</li>
<li>Server s&#7869; kh&ocirc;ng g&#7917;i response ngay cho client (&#7913;ng v&#7899;i request &#273;&atilde; g&#7917;i) m&agrave; s&#7869; &#273;&#7907;i cho &#273;&#7871;n khi c&oacute; d&#7919; li&#7879;u m&#7899;i.</li>
<li>Khi c&oacute; d&#7919; li&#7879;u m&#7899;i, server s&#7869; g&#7917;i d&#7919; li&#7879;u m&#7899;i &#273;&oacute; (response) v&#7873; cho client.</li>
<li>Client sau khi nh&#7853;n d&#7919; li&#7879;u m&#7899;i t&#7915; server, ngay l&#7853;p t&#7913;c s&#7869; ti&#7871;p t&#7909;c 1 request kh&aacute;c &#273;&#7871;n server &#273;&#7875; b&#7855;t &#273;&#7847;u l&#7841;i to&agrave;n b&#7897; ti&#7871;n tr&igrave;nh n&agrave;y (b&#432;&#7899;c 3 &#273;&#7871;n 5).</li>
</ol><p>~&gt; Client s&#7869; g&#7917;i request &#273;&#7871;n server, server ti&#7871;n h&agrave;nh ki&#7871;m tra d&#7919; li&#7879;u v&agrave; &#273;&#7871;n khi n&agrave;o c&oacute; d&#7919; li&#7879;u m&#7899;i th&igrave; m&#7899;i g&#7917;i response v&#7873; cho client. Sau &#273;&oacute; client l&#7841;i ti&#7871;p t&#7909;c t&#7921; &#273;&#7897;ng g&#7917;i 1 request m&#7899;i v&agrave; &#273;&#7907;i d&#7919; li&#7879;u m&#7899;i tr&#7843; v&#7873;.</p>
<h2>HTML5 Server Sent Events (SSE) / Event Source:</h2>
<p><img class="aligncenter size-full wp-image-11342" src="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-html5.png" alt="ky-thuat-lap-trinh-web-regular-http-13122015-html5" width="646" height="364" srcset="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-html5.png 646w, http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-html5-300x169.png 300w" sizes="(max-width: 646px) 100vw, 646px"></p>
<ol><li>Client y&ecirc;u c&#7847;u 1 trang web t&#7915; server s&#7917; d&#7909;ng &ldquo;Regular http&rdquo; (&#273;&atilde; n&oacute;i &#7903; tr&ecirc;n).</li>
<li>Trang web m&agrave; client v&#7915;a y&ecirc;u c&#7847;u s&#7869; d&ugrave;ng javascript m&#7903; 1 k&#7871;t n&#7889;i &#273;&#7871;n server.</li>
<li>K&#7875; t&#7915; l&uacute;c n&agrave;y server s&#7869; g&#7917;i response tr&#7843; v&#7873; cho client m&#7895;i khi c&oacute; d&#7919; li&#7879;u m&#7899;i.</li>
</ol><p>~&gt; T&#7913;c l&agrave; client lu&ocirc;n nh&#7853;n d&#7919; li&#7879;u m&#7899;i theo th&#7901;i gian th&#7921;c t&#7915; server ch&#7881; v&#7899;i 1 l&#7847;n request (d&#7919; li&#7879;u 1 chi&#7873;u t&#7915; server &#273;&#7871;n client). L&uacute;c n&agrave;y tr&ecirc;n server s&#7869; th&#7921;c hi&#7879;n 1 v&ograve;ng l&#7863;p (loop) s&#7921; ki&#7879;n (b&#432;&#7899;c 1 &#273;&#7871;n 3) &#273;&#7875; th&#7921;c hi&#7879;n l&#7841;i nhi&#7873;u l&#7847;n quy tr&igrave;nh n&agrave;y, tuy nhi&ecirc;n b&#7841;n kh&ocirc;ng th&#7875; k&#7871;t n&#7889;i &#273;&#7871;n server t&#7915; 1 t&ecirc;n mi&#7873;n (domain) kh&aacute;c.</p>
<h2>HTML5 Websockets:</h2>
<p><img class="aligncenter size-full wp-image-11343" src="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-socket.png" alt="ky-thuat-lap-trinh-web-regular-http-13122015-socket" width="646" height="364" srcset="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-socket.png 646w, http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-socket-300x169.png 300w" sizes="(max-width: 646px) 100vw, 646px"></p>
<ol><li>Client y&ecirc;u c&#7847;u 1 trang web t&#7915; server s&#7917; d&#7909;ng &ldquo;Regular http&rdquo; (&#273;&atilde; n&oacute;i &#7903; tr&ecirc;n).</li>
<li>Trang web m&agrave; client v&#7915;a y&ecirc;u c&#7847;u s&#7869; d&ugrave;ng javascript m&#7903; 1 k&#7871;t n&#7889;i &#273;&#7871;n server.</li>
<li>B&acirc;y gi&#7901; c&#7843; server v&agrave; client c&oacute; th&#7875; g&#7917;i nh&#7853;n nhi&#7873;u d&#7919; li&#7879;u kh&aacute;c nhau v&#7899;i nhau khi c&oacute; d&#7919; li&#7879;u m&#7899;i (gi&#7889;ng nh&#432; ki&#7875;u 2 b&ecirc;n &#273;ang chat v&#7899;i nhau ch&#7913; kh&ocirc;ng ph&#7843;i tu&acirc;n theo qui t&#7855;c n&agrave;o).</li>
</ol><p>~&gt; T&#7913;c l&agrave; client v&agrave; server lu&ocirc;n nh&#7853;n d&#7919; li&#7879;u m&#7899;i theo th&#7901;i gian th&#7921;c (2 chi&#7873;u: server &#273;&#7871;n client ho&#7863;c client &#273;&#7871;n server). L&uacute;c n&agrave;y tr&ecirc;n server s&#7869; th&#7921;c hi&#7879;n 1 v&ograve;ng l&#7863;p (loop) s&#7921; ki&#7879;n (b&#432;&#7899;c 1 &#273;&#7871;n 3) &#273;&#7875; th&#7921;c hi&#7879;n l&#7841;i nhi&#7873;u l&#7847;n quy tr&igrave;nh n&agrave;y v&agrave; b&#7841;n c&oacute; th&#7875; k&#7871;t n&#7889;i &#273;&#7871;n server t&#7915; 1 t&ecirc;n mi&#7873;n (domain) kh&aacute;c. Ngo&agrave;i ra b&#7841;n c&#361;ng c&oacute; th&#7875; s&#7917; d&#7909;ng websocket server c&#7911;a b&ecirc;n th&#7913; 3 cung c&#7845;p (v&iacute; d&#7909;: <a href="http://pusher.com/" target="_blank">http://pusher.com/</a>) v&agrave; vi&#7879;c c&ograve;n l&#7841;i l&agrave; b&#7841;n ch&#7881; vi&#7879;c code tr&ecirc;n client ( d&#7877; d&agrave;ng h&#417;n nhi&#7873;u v&igrave; tr&#432;&#7899;c &#273;&oacute; b&#7841;n ph&#7843;i code c&#7843; ph&iacute;a server v&agrave; client).</p>
<p>&#272;&#7875; d&#7877; hi&#7875;u h&#417;n, m&igrave;nh xin gi&#7843;i th&iacute;ch th&ecirc;m c&aacute;i h&igrave;nh &#7903; tr&ecirc;n, h&igrave;nh n&agrave;y minh h&#7885;a nhi&#7873;u tr&#432;&#7901;ng h&#7907;p c&oacute; th&#7875; x&#7843;y ra khi &aacute;p d&#7909;ng web socket:</p>
<ul><li>Tr&#432;&#7901;ng h&#7907;p 1: t&#7841;o connect v&#7899;i server ~&gt; nh&#7853;n 2 response t&#7915; server.</li>
<li>Tr&#432;&#7901;ng h&#7907;p 2: t&#7841;o connect v&#7899;i server ~&gt; nh&#7853;n 1 response t&#7915; server ~&gt; client g&#7917;i ti&#7871;p 1 request kh&aacute;c &#273;&#7871;n server.</li>
<li>Tr&#432;&#7901;ng h&#7907;p 3: t&#7841;o connect v&#7899;i server ~&gt; nh&#7853;n 2 response t&#7915; server ~&gt; server tr&#7843; v&#7873; ti&#7871;p 1 reponse kh&aacute;c cho client (m&#7863;c d&ugrave; kh&ocirc;ng&nbsp;c&oacute; request m&#7899;i n&agrave;o).</li>
</ul><h2>Comet:</h2>
<p><img class="aligncenter size-full wp-image-11344" src="http://static.techtalk.vn/wp-content/uploads/2016/11/ky-thuat-lap-trinh-web-regular-http-13122015-comet.gif" alt="ky-thuat-lap-trinh-web-regular-http-13122015-comet" width="304" height="322"></p>
<p>Comet l&agrave; m&#7897;t thu&#7853;t ng&#7919; chung m&ocirc; t&#7843; vi&#7879;c server g&#7917;i response d&#7919; li&#7879;u cho client m&agrave; kh&ocirc;ng c&#7847;n 1 request r&otilde; r&agrave;ng. Ngo&agrave;i ra n&oacute; c&ograve;n &#273;&#432;&#7907;c bi&#7871;t &#273;&#7871;n v&#7899;i nh&#7919;ng c&aacute;i t&ecirc;n kh&aacute;c nh&#432;: Ajax push, Reverse Ajax, Two-way-web, HTTP Streaming, HTTP server push. Tr&ecirc;n th&#7921;c t&#7871; &#7913;ng d&#7909;ng comet c&oacute; th&#7875; d&ugrave;ng 1 trong 2 k&#7929; thu&#7853;t &#273;&oacute; l&agrave;: Streaming ho&#7863;c Long-Polling.</p>
<p>Comet c&oacute; m&#7897;t s&#7921; &#432;u vi&#7879;t &#273;&oacute; l&agrave; request t&#7915; client &#273;&#7871;n server c&oacute; th&#7875; &#273;&#432;&#7907;c gi&#7919; trong 1 th&#7901;i gian d&agrave;i ( &#273;&#7871;n khi &#273;&#7841;t gi&#7899;i h&#7841;n time-out ) &#273;&#7875; &#273;&#7907;i response t&#7915; server tr&#7843; v&#7873; ( xem h&igrave;nh m&ocirc; t&#7843; &#7903; tr&ecirc;n ), v&agrave; sau &#273;&oacute; s&#7869; ti&#7871;p t&#7909;c g&#7917;i request m&#7899;i &#273;&#7875; &#273;&#7907;i response kh&aacute;c t&#7915; server.</p>
<p>M&#7897;t &#432;u &#273;i&#7875;m l&#7899;n n&#7919;a c&#7911;a Comet &#273;&oacute; l&agrave; lu&ocirc;n c&oacute; m&#7897;t li&ecirc;n k&#7871;t giao ti&#7871;p gi&#7919;a client v&agrave; server, server c&oacute; th&#7875; g&#7917;i response ngay khi request &#273;&#432;&#7907;c g&#7917;i &#273;&#7871;n ho&#7863;c t&iacute;ch l&#361;y response &#273;&#7875; g&#7917;i 1 l&#7847;n. Nh&#432;ng v&igrave; c&aacute;c request t&#7891;n t&#7841;i trong m&#7897;t th&#7901;i gian d&agrave;i ( long-lived request ) n&ecirc;n &#7903; server c&#7847;n m&#7897;t c&#417; ch&#7871; &#273;&#7863;c bi&#7879;t &#273;&#7875; x&#7917; l&yacute; t&#7845;t c&#7843; request lo&#7841;i n&agrave;y.</p>
<p>K&#7929; thu&#7853;t Long-Polling m&igrave;nh &#273;&atilde; gi&#7899;i thi&#7879;u &#7903; tr&ecirc;n r&#7891;i n&ecirc;n kh&ocirc;ng nh&#7855;c l&#7841;i n&#7919;a, c&ograve;n v&#7899;i streaming b&#7841;n c&oacute; th&#7875; hi&#7875;u &#273;&#417;n gi&#7843;n th&#7871; n&agrave;y: h&igrave;nh th&#7913;c n&oacute; gi&#7889;ng v&#7899;i k&#7929; thu&#7853;t long-polling nh&#432;ng kh&aacute;c l&agrave; ta ch&#7881; kh&#7903;i t&#7841;o k&#7871;t n&#7889;i &#273;&#7871;n server m&#7897;t l&#7847;n v&agrave; g&#7917;i nh&#7853;n d&#7919; li&#7879;u th&ocirc;ng qua k&#7871;t n&#7889;i n&agrave;y ch&#7913; kh&ocirc;ng t&#7841;o k&#7871;t n&#7889;i m&#7899;i. ( k&#7929; thu&#7853;t streaming tr&ecirc;n th&#7921;c t&#7871; c&oacute; th&#7875; &#273;&#432;&#7907;c &#7913;ng d&#7909;ng &#273;&#7875; l&agrave;m web xem phim tr&#7921;c truy&#7871;n, t&#7843;i t&#7899;i &#273;&acirc;u coi t&#7899;i &#273;&oacute; v&agrave; ch&#7881; request &#273;&#7871;n file phim &#273;&uacute;ng 1 l&#7847;n).</p>
<p style="text-align: right;"><span style="font-size: 10pt;"><em>Techtalk via <a href="https://techmaster.vn/posts/33693/ky-thuat-long-polling-websockets-server-sent-events-comet">Techmaster</a></em></span></p></div>";s:6:"author";O:16:"SimplePie_Author":3:{s:4:"name";s:7:"Hieu Le";s:4:"link";N;s:5:"email";N;}s:4:"date";s:19:"2016-11-05 12:00:23";s:10:"enclosures";a:1:{i:0;O:19:"SimplePie_Enclosure":27:{s:7:"bitrate";N;s:8:"captions";N;s:10:"categories";N;s:8:"channels";N;s:9:"copyright";N;s:7:"credits";N;s:11:"description";N;s:8:"duration";N;s:10:"expression";N;s:9:"framerate";N;s:7:"handler";N;s:6:"hashes";N;s:6:"height";N;s:10:"javascript";N;s:8:"keywords";N;s:4:"lang";N;s:6:"length";N;s:4:"link";N;s:6:"medium";N;s:6:"player";N;s:7:"ratings";N;s:12:"restrictions";a:1:{i:0;O:21:"SimplePie_Restriction":3:{s:12:"relationship";s:5:"allow";s:4:"type";N;s:5:"value";s:7:"default";}}s:12:"samplingrate";N;s:10:"thumbnails";N;s:5:"title";N;s:4:"type";N;s:5:"width";N;}}s:7:"src_url";s:92:"http://techtalk.vn/gioi-thieu-ky-thuat-long-polling-websockets-server-sent-events-comet.html";s:8:"src_name";s:54:"Giới thiệu kỹ thuật Long-Polling, Websocke ...";}